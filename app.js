// Language translations
const translations = {
    en: {
        "hero-title": "Full Stack Developer",
        "hero-description": "I create modern web applications with cutting-edge technologies and exceptional user experiences.",
        "view-projects-btn": "View Projects",
        "contact-btn": "Get In Touch",
        "about-title": "About Me",
        "about-text-1": "I'm Fares, a passionate full-stack developer with expertise in building modern web applications. I specialize in creating robust, scalable solutions using the latest technologies.",
        "about-text-2": "With experience in both frontend and backend development, I can take your project from concept to deployment, ensuring high performance and excellent user experience.",
        "projects-title": "My Projects",
        "project-1-title": "Learning Management System",
        "project-1-desc": "A comprehensive LMS with course creation, student tracking, and interactive content delivery built with React and Node.js.",
        "project-2-title": "E-commerce Platform",
        "project-2-desc": "A full-featured online store with payment integration, inventory management, and analytics using Laravel and React.",
        "project-3-title": "Game Development",
        "project-3-desc": "Interactive browser games built with JavaScript and HTML5 Canvas, featuring physics engines and multiplayer capabilities.",
        "contact-title": "Get In Touch",
        "email-title": "Email",
        "phone-title": "Phone",
        "location-title": "Location",
        "location-text": "Egypt",
        "name-label": "Name",
        "email-label": "Email",
        "message-label": "Message",
        "submit-btn": "Send Message",
        "copyright-text": "© 2023 Fares. All rights reserved."
    },
    ar: {
        "hero-title": "مطور Full Stack",
        "hero-description": "أقوم بإنشاء تطبيقات ويب حديثة باستخدام أحدث التقنيات وتجارب مستخدم استثنائية.",
        "view-projects-btn": "عرض المشاريع",
        "contact-btn": "تواصل معي",
        "about-title": "عني",
        "about-text-1": "أنا فارس، مطور Full Stack شغوف بخبرة في بناء تطبيقات الويب الحديثة. أتخصص في إنشاء حلول قوية وقابلة للتطوير باستخدام أحدث التقنيات.",
        "about-text-2": "مع الخبرة في تطوير الواجهات الأمامية والخلفية، يمكنني أخذ مشروعك من الفكرة إلى النشر، مع ضمان أداء عالي وتجربة مستخدم ممتازة.",
        "projects-title": "مشاريعي",
        "project-1-title": "نظام إدارة التعلم",
        "project-1-desc": "نظام LMS شامل مع إنشاء الدورات، تتبع الطلاب، وتقديم المحتوى التفاعلي باستخدام React و Node.js.",
        "project-2-title": "منصة التجارة الإلكترونية",
        "project-2-desc": "متجر عبر الإنترنت كامل الميزات مع دمج الدفع، إدارة المخزون، والتحليلات باستخدام Laravel و React.",
        "project-3-title": "تطوير الألعاب",
        "project-3-desc": "ألعاب متصفح تفاعلية مبنية باستخدام JavaScript و HTML5 Canvas، مع محركات فيزياء وقدرات متعددة اللاعبين.",
        "contact-title": "تواصل معي",
        "email-title": "البريد الإلكتروني",
        "phone-title": "الهاتف",
        "location-title": "الموقع",
        "location-text": "مصر",
        "name-label": "الاسم",
        "email-label": "البريد الإلكتروني",
        "message-label": "الرسالة",
        "submit-btn": "إرسال الرسالة",
        "copyright-text": "© 2023 فارس. جميع الحقوق محفوظة."
    },
    fr: {
        "hero-title": "Développeur Full Stack",
        "hero-description": "Je crée des applications web modernes avec des technologies de pointe et des expériences utilisateur exceptionnelles.",
        "view-projects-btn": "Voir les Projets",
        "contact-btn": "Me Contacter",
        "about-title": "À Propos de Moi",
        "about-text-1": "Je suis Fares, un développeur full stack passionné avec une expertise dans la création d'applications web modernes. Je me spécialise dans la création de solutions robustes et évolutives utilisant les dernières technologies.",
        "about-text-2": "Avec de l'expérience en développement frontend et backend, je peux prendre votre projet du concept au déploiement, en garantissant des performances élevées et une excellente expérience utilisateur.",
        "projects-title": "Mes Projets",
        "project-1-title": "Système de Gestion d'Apprentissage",
        "project-1-desc": "Un LMS complet avec création de cours, suivi des étudiants et livraison de contenu interactif construit avec React et Node.js.",
        "project-2-title": "Plateforme E-commerce",
        "project-2-desc": "Une boutique en ligne complète avec intégration de paiement, gestion des stocks et analyses utilisant Laravel et React.",
        "project-3-title": "Développement de Jeux",
        "project-3-desc": "Jeux de navigateur interactifs construits avec JavaScript et HTML5 Canvas, avec des moteurs physiques et des capacités multijoueurs.",
        "contact-title": "Me Contacter",
        "email-title": "Email",
        "phone-title": "Téléphone",
        "location-title": "Localisation",
        "location-text": "Égypte",
        "name-label": "Nom",
        "email-label": "Email",
        "message-label": "Message",
        "submit-btn": "Envoyer le Message",
        "copyright-text": "© 2023 Fares. Tous droits réservés."
    },
    es: {
        "hero-title": "Desarrollador Full Stack",
        "hero-description": "Creo aplicaciones web modernas con tecnologías de vanguardia y experiencias de usuario excepcionales.",
        "view-projects-btn": "Ver Proyectos",
        "contact-btn": "Ponerse en Contacto",
        "about-title": "Sobre Mí",
        "about-text-1": "Soy Fares, un desarrollador full stack apasionado con experiencia en la creación de aplicaciones web modernas. Me especializo en crear soluciones robustas y escalables utilizando las últimas tecnologías.",
        "about-text-2": "Con experiencia en desarrollo frontend y backend, puedo llevar tu proyecto desde el concepto hasta la implementación, garantizando alto rendimiento y una excelente experiencia de usuario.",
        "projects-title": "Mis Proyectos",
        "project-1-title": "Sistema de Gestión de Aprendizaje",
        "project-1-desc": "Un LMS completo con creación de cursos, seguimiento de estudiantes y entrega de contenido interactivo construido con React y Node.js.",
        "project-2-title": "Plataforma de Comercio Electrónico",
        "project-2-desc": "Una tienda en línea con todas las funciones con integración de pago, gestión de inventario y análisis utilizando Laravel y React.",
        "project-3-title": "Desarrollo de Juegos",
        "project-3-desc": "Juegos de navegador interactivos construidos con JavaScript y HTML5 Canvas, con motores de física y capacidades multijugador.",
        "contact-title": "Ponerse en Contacto",
        "email-title": "Correo Electrónico",
        "phone-title": "Teléfono",
        "location-title": "Ubicación",
        "location-text": "Egipto",
        "name-label": "Nombre",
        "email-label": "Correo Electrónico",
        "message-label": "Mensaje",
        "submit-btn": "Enviar Mensaje",
        "copyright-text": "© 2023 Fares. Todos los derechos reservados."
    },
    de: {
        "hero-title": "Full Stack Entwickler",
        "hero-description": "Ich erstelle moderne Webanwendungen mit modernsten Technologien und außergewöhnlichen Benutzererlebnissen.",
        "view-projects-btn": "Projekte Ansehen",
        "contact-btn": "Kontakt Aufnehmen",
        "about-title": "Über Mich",
        "about-text-1": "Ich bin Fares, ein leidenschaftlicher Full-Stack-Entwickler mit Expertise im Bau moderner Webanwendungen. Ich spezialisiere mich auf die Erstellung robuster, skalierbarer Lösungen mit den neuesten Technologien.",
        "about-text-2": "Mit Erfahrung in Frontend- und Backend-Entwicklung kann ich Ihr Projekt von der Konzeption bis zur Bereitstellung begleiten und dabei hohe Leistung und hervorragende Benutzererfahrung gewährleisten.",
        "projects-title": "Meine Projekte",
        "project-1-title": "Lernmanagementsystem",
        "project-1-desc": "Ein umfassendes LMS mit Kurserstellung, Studentenverfolgung und interaktiver Inhaltsbereitstellung, erbaut mit React und Node.js.",
        "project-2-title": "E-Commerce-Plattform",
        "project-2-desc": "Ein voll ausgestatteter Online-Shop mit Zahlungsintegration, Bestandsverwaltung und Analysen mit Laravel und React.",
        "project-3-title": "Spieleentwicklung",
        "project-3-desc": "Interaktive Browserspiele, erbaut mit JavaScript und HTML5 Canvas, mit Physik-Engines und Multiplayer-Fähigkeiten.",
        "contact-title": "Kontakt Aufnehmen",
        "email-title": "E-Mail",
        "phone-title": "Telefon",
        "location-title": "Standort",
        "location-text": "Ägypten",
        "name-label": "Name",
        "email-label": "E-Mail",
        "message-label": "Nachricht",
        "submit-btn": "Nachricht Senden",
        "copyright-text": "© 2023 Fares. Alle Rechte vorbehalten."
    },
    it: {
        "hero-title": "Sviluppatore Full Stack",
        "hero-description": "Creo applicazioni web moderne con tecnologie all'avanguardia e esperienze utente eccezionali.",
        "view-projects-btn": "Visualizza Progetti",
        "contact-btn": "Mettiti in Contatto",
        "about-title": "Chi Sono",
        "about-text-1": "Sono Fares, uno sviluppatore full stack appassionato con esperienza nella creazione di applicazioni web moderne. Mi specializzo nella creazione di soluzioni robuste e scalabili utilizzando le ultime tecnologie.",
        "about-text-2": "Con esperienza sia nello sviluppo frontend che backend, posso portare il tuo progetto dal concetto alla distribuzione, garantendo alte prestazioni e un'eccellente esperienza utente.",
        "projects-title": "I Miei Progetti",
        "project-1-title": "Sistema di Gestione dell'Apprendimento",
        "project-1-desc": "Un LMS completo con creazione di corsi, monitoraggio degli studenti e consegna di contenuti interattivi costruito con React e Node.js.",
        "project-2-title": "Piattaforma E-commerce",
        "project-2-desc": "Un negozio online completo con integrazione di pagamento, gestione dell'inventario e analisi utilizzando Laravel e React.",
        "project-3-title": "Sviluppo di Giochi",
        "project-3-desc": "Giochi browser interattivi costruiti con JavaScript e HTML5 Canvas, con motori fisici e capacità multiplayer.",
        "contact-title": "Mettiti in Contatto",
        "email-title": "Email",
        "phone-title": "Telefono",
        "location-title": "Posizione",
        "location-text": "Egitto",
        "name-label": "Nome",
        "email-label": "Email",
        "message-label": "Messaggio",
        "submit-btn": "Invia Messaggio",
        "copyright-text": "© 2023 Fares. Tutti i diritti riservati."
    },
    pt: {
        "hero-title": "Desenvolvedor Full Stack",
        "hero-description": "Crio aplicações web modernas com tecnologias de ponta e experiências de usuário excepcionais.",
        "view-projects-btn": "Ver Projetos",
        "contact-btn": "Entrar em Contato",
        "about-title": "Sobre Mim",
        "about-text-1": "Sou Fares, um desenvolvedor full stack apaixonado com expertise em construir aplicações web modernas. Especializo-me em criar soluções robustas e escaláveis usando as mais recentes tecnologias.",
        "about-text-2": "Com experiência em desenvolvimento frontend e backend, posso levar seu projeto do conceito à implantação, garantindo alto desempenho e excelente experiência do usuário.",
        "projects-title": "Meus Projetos",
        "project-1-title": "Sistema de Gestão de Aprendizagem",
        "project-1-desc": "Um LMS abrangente com criação de cursos, acompanhamento de alunos e entrega de conteúdo interativo construído com React e Node.js.",
        "project-2-title": "Plataforma de E-commerce",
        "project-2-desc": "Uma loja online completa com integração de pagamento, gestão de inventário e análises usando Laravel e React.",
        "project-3-title": "Desenvolvimento de Jogos",
        "project-3-desc": "Jogos de navegador interativos construídos com JavaScript e HTML5 Canvas, com motores de física e capacidades multiplayer.",
        "contact-title": "Entrar em Contato",
        "email-title": "Email",
        "phone-title": "Telefone",
        "location-title": "Localização",
        "location-text": "Egito",
        "name-label": "Nome",
        "email-label": "Email",
        "message-label": "Mensagem",
        "submit-btn": "Enviar Mensagem",
        "copyright-text": "© 2023 Fares. Todos os direitos reservados."
    }
};

// Current language and theme
let currentLang = 'en';
let currentTheme = 'light';

// DOM Elements
const themeBtn = document.getElementById('themeBtn');
const themeDropdown = document.getElementById('themeDropdown');
const themeOptions = document.querySelectorAll('.theme-option');
const languageBtn = document.getElementById('languageBtn');
const languageDropdown = document.getElementById('languageDropdown');
const languageOptions = document.querySelectorAll('.language-option');
const mobileMenuBtn = document.getElementById('mobileMenuBtn');
const navMenu = document.getElementById('navMenu');
const header = document.getElementById('header');
const projectCards = document.querySelectorAll('.project-card');
const contactForm = document.getElementById('contactForm');

// Theme Toggle
themeBtn.addEventListener('click', (e) => {
    e.stopPropagation();
    themeDropdown.classList.toggle('active');
});

themeOptions.forEach(option => {
    option.addEventListener('click', (e) => {
        e.stopPropagation();
        const theme = option.getAttribute('data-theme');
        changeTheme(theme);
        themeDropdown.classList.remove('active');
        localStorage.setItem('theme', theme);
    });
});

// Change theme function
function changeTheme(theme) {
    document.body.className = '';
    if (theme !== 'light') {
        document.body.classList.add(`${theme}-mode`);
    }
    currentTheme = theme;
    
    // Add transition class for smooth theme change
    document.body.classList.add('theme-transition');
    setTimeout(() => {
        document.body.classList.remove('theme-transition');
    }, 500);
}

// Load saved theme
const savedTheme = localStorage.getItem('theme') || 'light';
changeTheme(savedTheme);

// Language Selector
languageBtn.addEventListener('click', (e) => {
    e.stopPropagation();
    languageDropdown.classList.toggle('active');
});

languageOptions.forEach(option => {
    option.addEventListener('click', (e) => {
        e.stopPropagation();
        const lang = option.getAttribute('data-lang');
        changeLanguage(lang);
        languageDropdown.classList.remove('active');
        languageBtn.innerHTML = `${lang.toUpperCase()} <i class="fas fa-chevron-down"></i>`;
        localStorage.setItem('language', lang);
    });
});

// Change language function
function changeLanguage(lang) {
    currentLang = lang;
    const elements = document.querySelectorAll('[id]');
    elements.forEach(element => {
        const key = element.id;
        if (translations[lang] && translations[lang][key]) {
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = translations[lang][key];
            } else {
                element.textContent = translations[lang][key];
            }
        }
    });
}

// Load saved language
const savedLanguage = localStorage.getItem('language') || 'en';
changeLanguage(savedLanguage);
languageBtn.innerHTML = `${savedLanguage.toUpperCase()} <i class="fas fa-chevron-down"></i>`;

// Mobile Menu Toggle
mobileMenuBtn.addEventListener('click', () => {
    navMenu.classList.toggle('active');
});

// Header scroll effect
window.addEventListener('scroll', function() {
    if (window.scrollY > 50) {
        header.classList.add('scrolled');
    } else {
        header.classList.remove('scrolled');
    }
});

// Project cards animation on scroll
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('visible');
        }
    });
}, { threshold: 0.1 });

projectCards.forEach(card => {
    observer.observe(card);
});

// Smooth scrolling for anchor links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        
        const targetId = this.getAttribute('href');
        if (targetId === '#') return;
        
        const targetElement = document.querySelector(targetId);
        if (targetElement) {
            window.scrollTo({
                top: targetElement.offsetTop - 80,
                behavior: 'smooth'
            });
            
            // Close mobile menu if open
            if (window.innerWidth <= 768) {
                navMenu.classList.remove('active');
            }
        }
    });
});

// Form submission
contactForm.addEventListener('submit', function(e) {
    e.preventDefault();
    alert('Thank you for your message! I will get back to you soon.');
    this.reset();
});

// Close dropdowns when clicking outside
document.addEventListener('click', (e) => {
    if (!themeBtn.contains(e.target) && !themeDropdown.contains(e.target)) {
        themeDropdown.classList.remove('active');
    }
    
    if (!languageBtn.contains(e.target) && !languageDropdown.contains(e.target)) {
        languageDropdown.classList.remove('active');
    }
    
    // Close mobile menu when clicking outside
    if (window.innerWidth <= 768 && !mobileMenuBtn.contains(e.target) && !navMenu.contains(e.target)) {
        navMenu.classList.remove('active');
    }
});

// Close dropdown on escape key
document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
        themeDropdown.classList.remove('active');
        languageDropdown.classList.remove('active');
        navMenu.classList.remove('active');
    }
});

// Initialize animations
document.addEventListener('DOMContentLoaded', function() {
    // Add loaded class for initial animations
    document.body.classList.add('loaded');
    
    // Animate skill cards on scroll
    const skillCards = document.querySelectorAll('.skill-card');
    const skillObserver = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
                setTimeout(() => {
                    entry.target.style.animationDelay = `${index * 0.1}s`;
                    entry.target.classList.add('animated');
                }, 100);
            }
        });
    }, { threshold: 0.1 });

    skillCards.forEach(card => {
        skillObserver.observe(card);
    });
});